<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker笔记总结 | zhouzixin</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/smallsunnyfox/favicon.ico">
    <link rel="manifest" href="/smallsunnyfox/manifest.json">
    <link rel="apple-touch-icon" href="/smallsunnyfox/icons/LatteAndCat.png">
    <link rel="mask-icon" href="/smallsunnyfox/icons/LatteAndCat.svg" color="#42b983">
    <meta name="description" content="花有重开日 人无再少年">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="theme-color" content="#42b983">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/LatteAndCat.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/smallsunnyfox/assets/css/0.styles.985f4faa.css" as="style"><link rel="preload" href="/smallsunnyfox/assets/js/app.83564948.js" as="script"><link rel="preload" href="/smallsunnyfox/assets/js/2.aa576462.js" as="script"><link rel="preload" href="/smallsunnyfox/assets/js/64.b31e258e.js" as="script"><link rel="preload" href="/smallsunnyfox/assets/js/4.8cc69bdc.js" as="script"><link rel="prefetch" href="/smallsunnyfox/assets/js/10.40d2e3c3.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/11.15c784a9.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/12.01305151.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/13.e742ac15.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/14.736f783d.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/15.2bc312ec.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/16.ccac7075.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/17.d0aa31d7.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/18.47abd566.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/19.45dd883e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/20.c2fd7f4c.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/21.9c1c432e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/22.f179a7b6.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/23.dcd4df83.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/24.91d40dfa.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/25.b1099c35.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/26.fbb6f270.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/27.189cc0f3.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/28.57f2b6d8.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/29.537a371d.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/3.aaf0c132.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/30.a405393e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/31.3ebecc61.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/32.2b8ffc19.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/33.4f7ae9ca.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/34.3ef5c615.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/35.3b4feb7e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/36.cbe154da.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/37.26e53855.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/38.fc5d06e4.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/39.dd67234c.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/40.48b74ba2.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/41.8bf5910b.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/42.0b3ecb83.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/43.feac9df4.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/44.181ece56.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/45.dbf31451.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/46.0c8f838e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/47.f81eaf0a.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/48.d1beab20.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/49.63e1cf7c.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/5.d321fe33.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/50.6c71c8af.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/51.f6e84fab.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/52.90e71b7e.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/53.37e0a5a8.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/54.9ec65e79.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/55.ef74a664.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/56.5e382d7a.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/57.3eca7321.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/58.386d1919.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/59.6c639b45.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/6.d674c05b.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/60.6dcfba0f.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/61.d83477d7.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/62.1a2ca4ea.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/63.f7d7b667.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/65.5d1f9882.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/66.2363a0bf.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/67.8b62f7a8.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/68.06f0b574.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/69.88779b3b.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/7.180e1434.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/70.ab6dccc0.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/71.09fc497a.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/72.b9081c38.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/8.641e4bfe.js"><link rel="prefetch" href="/smallsunnyfox/assets/js/9.13ceb6f5.js">
    <link rel="stylesheet" href="/smallsunnyfox/assets/css/0.styles.985f4faa.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/smallsunnyfox/" class="home-link router-link-active"><img src="/smallsunnyfox/my.jpg" alt="zhouzixin" class="logo"> <span class="site-name can-hide">zhouzixin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/smallsunnyfox/" class="nav-link">随首一页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/smallsunnyfox/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/cb4341/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/5f248e/" class="nav-link">Java集合</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/smallsunnyfox/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/5c10af/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/smallsunnyfox/sql/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/ba866f/" class="nav-link">数据库基础</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/f88408/" class="nav-link">SQL数据库</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/c61090/" class="nav-link">NoSQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/smallsunnyfox/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/698358/" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/9a7bd9/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/484f37/" class="nav-link">日志框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具|部署" class="dropdown-title"><a href="/smallsunnyfox/tools/" class="link-title">工具|部署</a> <span class="title" style="display:none;">工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/10752c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Docker</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/f71a89/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的扩展" class="dropdown-title"><!----> <span class="title" style="display:;">我的扩展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://williscode.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://williscode.gitee.io/notes-collection/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/smallsunnyfox/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Willis-zzx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/smallsunnyfox/" class="nav-link">随首一页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/smallsunnyfox/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/cb4341/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/5f248e/" class="nav-link">Java集合</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/smallsunnyfox/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/5c10af/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/smallsunnyfox/sql/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/ba866f/" class="nav-link">数据库基础</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/f88408/" class="nav-link">SQL数据库</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/c61090/" class="nav-link">NoSQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/smallsunnyfox/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/698358/" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/9a7bd9/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/484f37/" class="nav-link">日志框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具|部署" class="dropdown-title"><a href="/smallsunnyfox/tools/" class="link-title">工具|部署</a> <span class="title" style="display:none;">工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/10752c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Docker</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/pages/f71a89/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的扩展" class="dropdown-title"><!----> <span class="title" style="display:;">我的扩展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://williscode.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://williscode.gitee.io/notes-collection/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/smallsunnyfox/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smallsunnyfox/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/smallsunnyfox/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Willis-zzx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/smallsunnyfox/pages/f71a89/" class="sidebar-link">Git命令大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_1-创建版本库" class="sidebar-link">1.创建版本库</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_2-修改和提交" class="sidebar-link">2.修改和提交</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_3-查看提交历史" class="sidebar-link">3.查看提交历史</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_4-撤销" class="sidebar-link">4.撤销</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_5-分支和标签" class="sidebar-link">5.分支和标签</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_6-合并" class="sidebar-link">6.合并</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_7-远程操作" class="sidebar-link">7.远程操作</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_8-默认设置" class="sidebar-link">8.默认设置</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_9-git-clone" class="sidebar-link">9.git clone</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_10-git-remote" class="sidebar-link">10.git remote</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_11-git-branch" class="sidebar-link">11.git branch</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_12-git-checkout" class="sidebar-link">12.git checkout</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_13-git-merge" class="sidebar-link">13.git merge</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_14-git-pull" class="sidebar-link">14.git pull</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/f71a89/#_15-git-push" class="sidebar-link">15.git push</a></li></ul></li><li><a href="/smallsunnyfox/pages/08d494/" class="sidebar-link">Git操作实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/08d494/#_1-git合并远程分支" class="sidebar-link">1.Git合并远程分支</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/smallsunnyfox/pages/10752c/" aria-current="page" class="active sidebar-link">Docker笔记总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#环境配置的难题" class="sidebar-link">环境配置的难题</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#虚拟机" class="sidebar-link">虚拟机</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-的前生-linux容器-容器虚拟化技术" class="sidebar-link">Docker 的前生——Linux容器（容器虚拟化技术）</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#什么是-docker" class="sidebar-link">什么是 Docker</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-与-linux-容器的关系" class="sidebar-link">Docker 与 Linux 容器的关系</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#为什么-docker-越来越受欢迎" class="sidebar-link">为什么 Docker 越来越受欢迎</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-的用途" class="sidebar-link">Docker 的用途</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-改变了什么" class="sidebar-link">Docker 改变了什么</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-引擎" class="sidebar-link">Docker 引擎</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#docker-架构-2" class="sidebar-link">Docker 架构</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#ubuntu下安装-docker" class="sidebar-link">Ubuntu下安装 Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#卸载旧版本" class="sidebar-link">卸载旧版本</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#使用-apt-安装" class="sidebar-link">使用 apt 安装</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#使用脚本自动安装" class="sidebar-link">使用脚本自动安装</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#启动-docker" class="sidebar-link">启动 Docker</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#安装完docker后-守护进程启动-检查docker是否正在运行" class="sidebar-link">安装完Docker后，守护进程启动，检查Docker是否正在运行</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#建立-docker-用户组" class="sidebar-link">建立 docker 用户组</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#永远滴神-helloword" class="sidebar-link">永远滴神——HelloWord</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#镜像加速" class="sidebar-link">镜像加速</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#其余各类操作系统安装-docker-官方文档" class="sidebar-link">其余各类操作系统安装 Docker 官方文档</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#镜像使用" class="sidebar-link">镜像使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#获取镜像" class="sidebar-link">获取镜像</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#列出镜像" class="sidebar-link">列出镜像</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#删除本地镜像" class="sidebar-link">删除本地镜像</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#上传镜像到阿里云仓库" class="sidebar-link">上传镜像到阿里云仓库</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#从阿里云仓库拉取镜像" class="sidebar-link">从阿里云仓库拉取镜像</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#使用dockerfile构建镜像" class="sidebar-link">使用Dockerfile构建镜像</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#操作容器" class="sidebar-link">操作容器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#启动" class="sidebar-link">启动</a></li><li class="sidebar-sub-header level4"><a href="/smallsunnyfox/pages/10752c/#新建并启动" class="sidebar-link">新建并启动</a></li><li class="sidebar-sub-header level4"><a href="/smallsunnyfox/pages/10752c/#启动已终止容器" class="sidebar-link">启动已终止容器</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#后台运行" class="sidebar-link">后台运行</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#终止容器" class="sidebar-link">终止容器</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#进入容器" class="sidebar-link">进入容器</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#导出和导入容器" class="sidebar-link">导出和导入容器</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#删除容器" class="sidebar-link">删除容器</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#参考文档" class="sidebar-link">参考文档</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/10752c/#ubuntu国内镜像源" class="sidebar-link">Ubuntu国内镜像源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#阿里云源" class="sidebar-link">阿里云源</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#清华源" class="sidebar-link">清华源</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#中科大源" class="sidebar-link">中科大源</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/10752c/#网易163源" class="sidebar-link">网易163源</a></li></ul></li></ul></li><li><a href="/smallsunnyfox/pages/c95bb2/" class="sidebar-link">Docker部署可执行jar包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/c95bb2/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/c95bb2/#方式一-直接构建jar包运行的镜像" class="sidebar-link">方式一：直接构建jar包运行的镜像</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/c95bb2/#方式二-基于jdk镜像运行容器" class="sidebar-link">方式二：基于JDK镜像运行容器</a></li></ul></li><li><a href="/smallsunnyfox/pages/3fcb05/" class="sidebar-link">利用Dockerfile制作自己的容器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第一步-准备工作" class="sidebar-link">第一步——准备工作</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第二步-编写文件" class="sidebar-link">第二步——编写文件</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第三步-构建容器" class="sidebar-link">第三步——构建容器</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第四步-运行容器" class="sidebar-link">第四步——运行容器</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第五步-导出容器" class="sidebar-link">第五步——导出容器</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第六步-导出镜像" class="sidebar-link">第六步——导出镜像</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第七步-上传阿里云docker仓库" class="sidebar-link">第七步——上传阿里云Docker仓库</a></li><li class="sidebar-sub-header level2"><a href="/smallsunnyfox/pages/3fcb05/#第八步-过程中碰见的错误" class="sidebar-link">第八步——过程中碰见的错误</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#docker镜像源问题-导致拉取失败" class="sidebar-link">Docker镜像源问题，导致拉取失败</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#端口占用问题" class="sidebar-link">端口占用问题</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#dockerfile-文件配置书写错误" class="sidebar-link">Dockerfile 文件配置书写错误</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#小问题" class="sidebar-link">小问题</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#删除容器与删除镜像" class="sidebar-link">删除容器与删除镜像</a></li><li class="sidebar-sub-header level3"><a href="/smallsunnyfox/pages/3fcb05/#构建镜像时命令不对" class="sidebar-link">构建镜像时命令不对</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/smallsunnyfox/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/smallsunnyfox/categories/?category=tools" title="分类" data-v-1baff76c>tools</a></li><li data-v-1baff76c><a href="/smallsunnyfox/categories/?category=Docker" title="分类" data-v-1baff76c>Docker</a></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>zhouzixin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2022-04-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Docker笔记总结<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p><strong>Docker</strong>，什么是<strong>Docker</strong>？</p> <p>引用官方文档的概述：</p> <ul><li><strong>Docker</strong>是一个用于开发，发布和运行应用程序的开放平台。<strong>Docker</strong>使您能够将应用程序与基础架构分开，从而可以快速交付软件。借助<strong>Docker</strong>，您可以以与管理应用程序相同的方式来管理基础架构。通过利用<strong>Docker</strong>的方法来快速交付，测试和部署代码，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。</li></ul> <p>我打算分三个部分完成这篇文章：</p> <ol><li><strong>Docker</strong> 简介</li> <li><strong>Docker</strong> 架构</li> <li><strong>Docker</strong> 简单使用</li></ol> <h1 id="docker-简介"><a href="#docker-简介" class="header-anchor">#</a> Docker 简介</h1> <h2 id="环境配置的难题"><a href="#环境配置的难题" class="header-anchor">#</a> 环境配置的难题</h2> <p>环境配置是最最麻烦的事情，一台电脑必须保证：操作系统的正确设置、各种库和组件的正确安装，只有做到这两点，软件才可以运行起来。从事软件开发行业的人员，拿到一个新电脑，最开始做的就是配置环境，例如：<strong>Java</strong>开发人员配置<strong>Java</strong>环境（如<strong>JDK</strong>、<strong>Tocmat</strong>服务器等等）。</p> <p>一个软件的无到有、再到正式上线，不单单只有开发，还有后期的软件测试、软件运行和维护。</p> <p>开发人员、测试人员、运维人员的电脑环境配置有可能是不同的，这也是导致一个软件在开发人员的电脑可以跑起来，而在测试人员的电脑中运行不起来。如果某些老旧的模块与当前的环境不兼容，那就更麻烦了。</p> <p>环境配置如此麻烦，换一台机器，就要重来一次，旷日费时。很多人想到，能不能从根本上解决问题，软件可以带环境安装？也就是说，安装的时候，把原始环境一模一样地复制过来。</p> <h2 id="虚拟机"><a href="#虚拟机" class="header-anchor">#</a> 虚拟机</h2> <p>虚拟机是带环境安装的一种解决方案。</p> <p>虚拟机可以在一种操作系统里面运行另一种操作系统，比如在<strong>Window 10</strong>系统里面运行<strong>Linux</strong>系统（微软为了拥抱<strong>Linux</strong>而推出的<strong>WSL</strong>，目前是<strong>WSL2</strong>版本），或者是利用虚拟机软件<strong>VMware Workstation</strong>，在这个软件中安装别的系统。</p> <p>使用<strong>VMware Workstation</strong>或者是<strong>WSL</strong>（<strong>VMware Workstation</strong>安装操作系统后可以有图形化界面，<strong>WSL</strong>我则利用<strong>VS code</strong>来使用，<strong>WSL</strong>也可以使用图形化界面，但利用<strong>VS code</strong>会更加方便），就跟使用一台全新的操作系统电脑一般，与真实系统一模一样，无论在虚拟机中怎么使用，都不会影响到外面的这个主操作系统，因为对于这个主操作系统而言，无论是<strong>VMware Workstation</strong>也好，或是<strong>WSL</strong>也好，都只是一个普通文件夹，不需要了可以删掉，对于其他部分是没有任何影响的。</p> <p>虽然用户可以通过虚拟机还原软件的原始环境，但是，这个方案有几个缺点：</p> <ol><li><p>资源占用过多</p> <p>虚拟机会独占一部分内存和硬盘空间。它运行的时候，其他程序就不能使用这些资源了。哪怕虚拟机里面的应用程序，真正使用的内存只有 1MB，虚拟机依然需要几百 MB 的内存才能运行。</p></li> <li><p>冗余步骤多</p> <p>虚拟机是完整的操作系统，一些系统级别的操作步骤，往往无法跳过，比如用户登录。</p></li> <li><p>启动慢</p> <p>启动操作系统需要多久，启动虚拟机就需要多久。可能要等几分钟，应用程序才能真正运行。</p></li></ol> <h2 id="docker-的前生-linux容器-容器虚拟化技术"><a href="#docker-的前生-linux容器-容器虚拟化技术" class="header-anchor">#</a> Docker 的前生——Linux容器（容器虚拟化技术）</h2> <p>由于虚拟机存在以上三个缺点，<strong>Linux</strong>发展出了另一种虚拟化技术：<strong>Linux</strong>容器（<strong>Linux Containers</strong>，缩写为 <strong>LXC</strong>）。</p> <p>与虚拟机不同，<strong>Linux容器不是模拟一个完整的操作系统，而是对进程进行隔离</strong>，或者换一种说法，在正常进程的外面套上一个保护套，对于容器里面的进程来说，它接触到的各种资源都是虚拟的，从而实现与底层操作系统的隔离。</p> <p>由于容器是进程级别的，相比于虚拟机有许多优势：</p> <ol><li><p>启动快</p> <p>容器里面的应用，直接就是底层系统的一个进程，而不是虚拟机内部的进程。所以，启动容器相当于启动本机的一个进程，而不是启动一个操作系统，速度就快很多。</p></li> <li><p>资源占用少</p> <p>容器只占用需要的资源，不占用那些没有用到的资源；虚拟机由于是完整的操作系统，不可避免要占用所有资源。另外，多个容器可以共享资源，虚拟机都是独享资源。</p></li> <li><p>体积小</p> <p>容器只要包含用到的组件即可，而虚拟机是整个操作系统的打包，所以容器文件比虚拟机文件要小很多。</p></li></ol> <p>总之，容器有点像轻量级的虚拟机，能够提供虚拟化的环境，但是成本开销小得多。</p> <table><thead><tr><th>特性</th> <th>容器</th> <th>虚拟机</th></tr></thead> <tbody><tr><td>启动</td> <td>秒级</td> <td>分钟级</td></tr> <tr><td>硬盘使用</td> <td>一般为 <strong>MB</strong></td> <td>一般为 <strong>GB</strong></td></tr> <tr><td>性能</td> <td>接近原生</td> <td>弱于</td></tr> <tr><td>系统支持量</td> <td>单机支持上千个容器</td> <td>一般几十个</td></tr></tbody></table> <h2 id="什么是-docker"><a href="#什么是-docker" class="header-anchor">#</a> 什么是 Docker</h2> <p><strong>Docker</strong>是一个用于开发，发布和运行应用程序的开放平台。<strong>Docker</strong>使您能够将应用程序与基础架构分开，从而可以快速交付软件。借助<strong>Docker</strong>，您可以以与管理应用程序相同的方式来管理基础架构。通过利用<strong>Docker</strong>的方法来快速交付，测试和部署代码，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。（引自于官方文档）</p> <p>用简单的话来说，<strong>Docker</strong>可以让开发者打包他们的应用以及各种依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的操作系统中，也可以实现虚拟化。</p> <p>**Docker属于Linux容器的一种封装，提供简单简易的容器使用接口。**它是目前最流行的 <strong>Linux</strong>容器解决方案。</p> <p><strong>Docker</strong> 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 <strong>Docker</strong>，就不用担心环境问题。</p> <p>总体来说，<strong>Docker</strong> 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。</p> <h2 id="docker-与-linux-容器的关系"><a href="#docker-与-linux-容器的关系" class="header-anchor">#</a> Docker 与 Linux 容器的关系</h2> <p>虚拟化技术已经走过了三个时代，没有容器化技术的演进就不会有<strong>Docker</strong>技术的诞生！</p> <p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20210109133628.png" alt=""></p> <ul><li><p>物理机时代：多个应用程序可能跑在一台机器上。</p> <img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20210109133828.png" style="zoom:50%;"></li> <li><p>虚拟机时代：一台物理机安装多个虚拟机（VM），一个虚拟机跑多个程序。</p> <img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20210109133853.png" style="zoom:50%;"></li> <li><p>容器化时代：一台物理机安装多个容器实例，一个容器跑多个程序。</p> <img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20210109133921.png" style="zoom:50%;"></li></ul> <p><strong>Docker</strong>并不是<strong>Linux</strong>容器的替代品，<strong>Docker</strong>底层使用<strong>Linux</strong>容器来实现，<strong>Linux</strong>容器将<strong>Linux</strong>进程沙盒化，使得进程之间相互隔离。在<strong>Linux</strong>容器的基础上，<strong>Docker</strong>提供了一系列更加强大的功能。可以理解为<strong>Docker</strong>是<strong>Linux</strong>容器的升级版。</p> <h2 id="为什么-docker-越来越受欢迎"><a href="#为什么-docker-越来越受欢迎" class="header-anchor">#</a> 为什么 Docker 越来越受欢迎</h2> <p><strong>一处构建、随处运行</strong></p> <p>这是<strong>Docker</strong>最大的优点。</p> <ol><li><p>更快速的应用交付和部署</p> <p>传统的应用开发完成后，需要提供一堆安装程序和配置说明文档，安装部署后需根据配置文档进行繁杂的配置才可以正常运行。</p> <p>使用<strong>Docker</strong>，只需要交付少量容器镜像文件，在正式生产环境加载镜像并运行即可，应用安装、环境配置等等应用运行的前提条件，都已经在镜像中内置好，大大节省部署配置和测试验证时间。</p></li> <li><p>更便捷的升级和扩缩容</p> <p>随着微服务架构和<strong>Docker</strong>的发展，大量的应用会通过微服务方式架构，应用的开发构建将变成搭乐高积木一样，每一个<strong>Docker</strong>容器就变成了一块积木，应用的升级会变得更加容易。</p> <p>每次需要对某一个应用模块进行升级，可以通过镜像运行新的容器进行快速升级。</p></li> <li><p>更简单的系统运维</p> <p>应用容器化运行后，生产环境运行的应用可与开发、测试环境的应用高度一致，容器会将应用程序相关的环境和状态完全封装起来，不会因为底层基础架构和操作系统的不一致性给应用带来影响，产生新的<strong>BUG</strong>。</p> <p>当出现程序异常时，也可以通过测试环境的相同容器进行快速定位和修复。</p></li> <li><p>更高效的计算资源利用</p> <p><strong>Docker</strong>是内核级虚拟化，其不像传统的虚拟化技术一样需要额外的<strong>Hypervisor</strong>支持，所以在一台物理机上可以运行多个容器实例，可大大提升物理服务器的<strong>CPU</strong>和内存的利用率。</p></li></ol> <h2 id="docker-的用途"><a href="#docker-的用途" class="header-anchor">#</a> Docker 的用途</h2> <p><strong>Docker</strong>的主要用途，目前有三大类：</p> <ol><li><p><strong>提供一次性的环境</strong></p> <p>比如：本地测试他人的软件、持续集成的时候提供单元测试和构建的环境。</p></li> <li><p><strong>提供弹性的云服务</strong></p> <p>因为Docker容器可以随开随关，很适合动态扩容和缩容。</p></li> <li><p><strong>组建微服务架构</strong></p> <p>通过多个容器，一台机器可以跑多个服务，因此在本地机器就可以模拟出微服务架构。</p></li></ol> <h2 id="docker-改变了什么"><a href="#docker-改变了什么" class="header-anchor">#</a> Docker 改变了什么</h2> <ul><li>面向产品：产品交付</li> <li>面向开发：简化环境配置</li> <li>面向测试：多版本测试</li> <li>面向运维：环境一致性</li> <li>面向架构：自动化扩容（微服务）</li></ul> <h1 id="docker-架构"><a href="#docker-架构" class="header-anchor">#</a> Docker 架构</h1> <h2 id="docker-引擎"><a href="#docker-引擎" class="header-anchor">#</a> Docker 引擎</h2> <p><strong>Docker Engine</strong>是具有以下主要组件的客户端-服务器应用程序：</p> <ul><li><p>服务器是一种长期运行的程序，称为守护程序进程（ <strong>dockerd</strong>命令）。</p></li> <li><p>REST API，它指定程序可以用来与守护程序进行通信并指示其操作的接口。</p></li> <li><p>命令行界面（<strong>CLI</strong>）客户端（<strong>docker</strong>命令）。</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201220224351.png" alt="Docker引擎"></p> <p><strong>CLI</strong>使用<strong>Docker REST API</strong>通过脚本或直接<strong>CLI</strong>命令来控制<strong>Docker</strong>守护程序或与<strong>Docker</strong>守护程序进行交互。许多其他<strong>Docker</strong>应用程序都使用基础<strong>API</strong>和<strong>CLI</strong>。</p> <p>守护程序创建和管理<strong>Docker</strong>对象，例如图像，容器，网络和卷。</p> <h2 id="docker-架构-2"><a href="#docker-架构-2" class="header-anchor">#</a> Docker 架构</h2> <p><strong>Docker</strong>使用客户端-服务器（<strong>C/S</strong>）架构模式。使用远程<strong>API</strong>来管理和创建<strong>Docker</strong>容器</p> <p><strong>Docker</strong> 容器通过 <strong>Docker</strong> 镜像来创建。</p> <p>容器与镜像的关系类似于面向对象编程中的对象与类。</p> <table><thead><tr><th>Docker</th> <th>面向对象</th></tr></thead> <tbody><tr><td>容器</td> <td>对象</td></tr> <tr><td>镜像</td> <td>类</td></tr></tbody></table> <p><strong>Docker</strong>客户端与<strong>Docker</strong>守护程序进行对话，该守护程序完成了构建，运行和分发<strong>Docker</strong>容器的繁重工作。</p> <p><strong>Docker</strong>客户端和守护程序可以在同一系统上运行，或者可以将<strong>Docker</strong>客户端连接到远程<strong>Docker</strong>守护程序。</p> <p><strong>Docker</strong>客户端和守护程序在<strong>UNIX</strong>套接字或网络接口上使用<strong>REST API</strong>进行通信。</p> <p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201220224651.png" alt="Docker架构"></p> <table><thead><tr><th>概念</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td><strong>Docker</strong> 镜像（<strong>Images</strong>）</td> <td style="text-align:left;"><strong>Docker</strong> 镜像是用于创建 <strong>Docker</strong> 容器的模板，比如 <strong>Ubuntu</strong> 系统。</td></tr> <tr><td><strong>Docker</strong> 容器(<strong>Container</strong>)</td> <td style="text-align:left;">容器是独立运行的一个或一组应用，是镜像运行时的实体</td></tr> <tr><td><strong>Docker</strong> 客户端(<strong>Client</strong>)</td> <td style="text-align:left;"><strong>Docker</strong> 客户端通过命令行或者其他工具使用 <strong>Docker API</strong> (https://docs.docker.com/reference/api/docker_remote_api) 与 <strong>Docker</strong> 的守护进程通信。</td></tr> <tr><td><strong>Docker</strong>守护程序</td> <td style="text-align:left;"><strong>Docker</strong>守护程序（<strong>dockerd</strong>）侦听<strong>Docker API</strong>请求并管理<strong>Docker</strong>对象，例如图像，容器，网络和卷。守护程序还可以与其他守护程序通信以管理<strong>Docker</strong>服务。</td></tr> <tr><td><strong>Docker</strong> 主机(<strong>Docker_Host</strong>)</td> <td style="text-align:left;">一个物理或者虚拟的机器用于执行 <strong>Docker</strong> 守护进程和容器。</td></tr> <tr><td><strong>Docker</strong> 仓库(<strong>Registry</strong>)</td> <td style="text-align:left;"><strong>Docker</strong> 仓库用来保存镜像，可以理解为代码控制中的代码仓库。<br><strong>Docker Hub</strong>(https://hub.docker.com) 提供了庞大的镜像集合供使用。</td></tr> <tr><td><strong>Docker Machine</strong></td> <td style="text-align:left;"><strong>Docker Machine</strong>是一个简化<strong>Docker</strong>安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装<strong>Docker</strong>，比如<strong>VirtualBox</strong>、 <strong>Digital Ocean</strong>、<strong>Microsoft Azure</strong>。</td></tr></tbody></table> <h1 id="docker-简单使用"><a href="#docker-简单使用" class="header-anchor">#</a> Docker 简单使用</h1> <h2 id="ubuntu下安装-docker"><a href="#ubuntu下安装-docker" class="header-anchor">#</a> Ubuntu下安装 Docker</h2> <h3 id="卸载旧版本"><a href="#卸载旧版本" class="header-anchor">#</a> 卸载旧版本</h3> <p>旧版本的 <strong>Docker</strong> 称为 <strong>docker</strong> 或者 <strong>docker-engine</strong>，使用以下命令卸载旧版本：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> remove docker <span class="token punctuation">\</span>
               docker-engine <span class="token punctuation">\</span>
               docker.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211131.png" alt="卸载Docker旧版本"></p> <h3 id="使用-apt-安装"><a href="#使用-apt-安装" class="header-anchor">#</a> 使用 apt 安装</h3> <p>由于 <strong>apt</strong> 源使用 <strong>HTTPS</strong> 以确保软件下载过程中不被篡改。因此，我们首先需要添加使用 <strong>HTTPS</strong> 传输的软件包以及 <strong>CA</strong> 证书。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update

$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token punctuation">\</span>
    apt-transport-https <span class="token punctuation">\</span>
    ca-certificates <span class="token punctuation">\</span>
    <span class="token function">curl</span> <span class="token punctuation">\</span>
    gnupg-agent <span class="token punctuation">\</span>
    software-properties-common
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211242.png" alt=""></p> <p>鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。</p> <p>为了确认所下载软件包的合法性，需要添加软件源的 <strong>GPG</strong> 密钥。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token comment">#PS:这里用的Ubuntu软件源是中科大的软件源，如果想切换软件源的文末有其他的软件源</span>

<span class="token comment"># 官方源</span>
<span class="token comment"># $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211405.png" alt=""></p> <p>然后，我们需要向 <strong>sources.list</strong> 中添加 <strong>Docker</strong> 软件源</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> add-apt-repository <span class="token punctuation">\</span>
    <span class="token string">&quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \
    <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> \
    stable&quot;</span>


<span class="token comment"># 官方源</span>
<span class="token comment"># $ sudo add-apt-repository \</span>
<span class="token comment">#    &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \</span>
<span class="token comment">#    $(lsb_release -cs) \</span>
<span class="token comment">#    stable&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211459.png" alt=""></p> <p>更新 <strong>apt</strong> 软件包缓存，并安装 <strong>docker-ce</strong>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update

$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211555.png" alt=""></p> <h3 id="使用脚本自动安装"><a href="#使用脚本自动安装" class="header-anchor">#</a> 使用脚本自动安装</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -fsSL https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> -s docker --mirror Aliyun
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="启动-docker"><a href="#启动-docker" class="header-anchor">#</a> 启动 Docker</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker
$ <span class="token function">sudo</span> systemctl start docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211726.png" alt=""></p> <h3 id="安装完docker后-守护进程启动-检查docker是否正在运行"><a href="#安装完docker后-守护进程启动-检查docker是否正在运行" class="header-anchor">#</a> 安装完Docker后，守护进程启动，检查Docker是否正在运行</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl status docker
<span class="token comment">#终端出现如下图的信息，表明该服务处于活动状态并正在运行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211826.png" alt=""></p> <h3 id="建立-docker-用户组"><a href="#建立-docker-用户组" class="header-anchor">#</a> 建立 docker 用户组</h3> <p>默认情况下，<strong>docker</strong> 命令会使用 <strong>Unix socket</strong> 与 <strong>Docker</strong> 引擎通讯。而只有 <strong>root</strong> 用户和 <strong>docker</strong> 组的用户才可以访问 <strong>Docker</strong> 引擎的 <strong>Unix socket</strong>。出于安全考虑，一般 <strong>Linux</strong> 系统上不会直接使用 <strong>root</strong> 用户。因此，更好地做法是将需要使用 <strong>docker</strong> 的用户加入 <strong>docker</strong> 用户组。</p> <p>建立 <strong>docker</strong> 组：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">groupadd</span> docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将当前用户加入 <strong>docker</strong> 组：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">usermod</span> -aG docker <span class="token environment constant">$USER</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222211949.png" alt=""></p> <p>退出当前终端并重新登录，进行测试。</p> <h3 id="永远滴神-helloword"><a href="#永远滴神-helloword" class="header-anchor">#</a> 永远滴神——HelloWord</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#先拉取hello-world镜像</span>
$ <span class="token function">sudo</span> docker pull hello-world
<span class="token comment">#再运行hello-world镜像</span>
$ <span class="token function">sudo</span> docker run hello-world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222212108.png" alt=""></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查看hello-world的镜像</span>
$ <span class="token function">sudo</span> docker images
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222212226.png" alt=""></p> <h3 id="镜像加速"><a href="#镜像加速" class="header-anchor">#</a> 镜像加速</h3> <p>国内从 DockerHub 拉取镜像有时会遇到困难，此时可以配置镜像加速器。Docker 官方和国内很多云服务商都提供了国内加速器服务，例如：</p> <blockquote><ul><li>网易：https://hub-mirror.c.163.com/</li> <li>阿里云：https://&lt;你的ID&gt;.mirror.aliyuncs.com</li> <li>七牛云加速器：https://reg-mirror.qiniu.com</li></ul></blockquote> <p>我这里以网易的为例说一说如何进行配置</p> <p>目前主流 <strong>Linux</strong> 发行版均已使用 <strong>systemd</strong> 进行服务管理，这里介绍如何在使用 <strong>systemd</strong> 的 <strong>Linux</strong> 发行版中配置镜像加速器。</p> <p>请首先执行以下命令，查看是否在 <strong>docker.service</strong> 文件中配置过镜像地址。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ systemctl <span class="token function">cat</span> docker <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'\-\-registry\-mirror'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222212332.png" alt=""></p> <p>如果该命令有输出，那么请执行 <code>$ systemctl cat docker</code> 查看 <code>ExecStart=</code> 出现的位置，修改对应的文件内容去掉 <code>--registry-mirror</code> 参数及其值，并按接下来的步骤进行配置。</p> <p>如果以上命令没有任何输出，像我的一样，那么就可以在 <code>/etc/docker/daemon.json</code> 中写入如下内容（如果文件不存在请新建该文件）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://hub-mirror.c.163.com&quot;</span>,
    <span class="token string">&quot;https://mirror.baidubce.com&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>注意，一定要保证该文件符合 json 规范，否则 Docker 将不能启动。</p> <p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222212427.png" alt=""></p> <p>之后重新启动服务。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl daemon-reload
$ <span class="token function">sudo</span> systemctl restart docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>检查加速器是否生效：</p> <p>执行 <code>$ docker info</code>，如果从结果中看到了如下内容，说明配置成功。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Registry Mirrors:
 https://hub-mirror.c.163.com/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201222212543.png" alt=""></p> <h3 id="其余各类操作系统安装-docker-官方文档"><a href="#其余各类操作系统安装-docker-官方文档" class="header-anchor">#</a> 其余各类操作系统安装 Docker 官方文档</h3> <blockquote><ul><li><a href="https://docs.docker.com/docker-for-mac/install/" target="_blank" rel="noopener noreferrer">Mac<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/docker-for-windows/install/" target="_blank" rel="noopener noreferrer">Windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Ubuntu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener noreferrer">Debian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">CentOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/fedora/" target="_blank" rel="noopener noreferrer">Fedora<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/install/binaries/" target="_blank" rel="noopener noreferrer">其他 Linux 发行版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <h2 id="镜像使用"><a href="#镜像使用" class="header-anchor">#</a> 镜像使用</h2> <h3 id="获取镜像"><a href="#获取镜像" class="header-anchor">#</a> 获取镜像</h3> <p>从 <strong>Docker</strong> 镜像仓库获取镜像的命令是 <strong>docker pull</strong>。其命令格式为：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker pull <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>Docker Registry 地址<span class="token punctuation">[</span>:端口号<span class="token punctuation">]</span>/<span class="token punctuation">]</span>仓库名<span class="token punctuation">[</span>:标签<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>具体的选项可以通过 <strong>docker pull --help</strong> 命令看到，这里我们说一下镜像名称的格式。</p> <ul><li><strong>Docker</strong> 镜像仓库地址：地址的格式一般是 <strong>&lt;域名/IP&gt;[:端口号]</strong>。默认地址是 <strong>Docker Hub(docker.io)</strong>。</li> <li>仓库名：如之前所说，这里的仓库名是两段式名称，即 <strong>&lt;用户名&gt;/&lt;软件名&gt;</strong>。对于 <strong>Docker Hub</strong>，如果不给出用户名，则默认为 <strong>library</strong>，也就是官方镜像。</li></ul> <p>比如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker pull ubuntu:18.04
<span class="token number">18.04</span>: Pulling from library/ubuntu
bf5d46315322: Pull complete
9f13e0ac480c: Pull complete
e8988b5b3097: Pull complete
40af181810e7: Pull complete
e6f7c7e5c03e: Pull complete
Digest: sha256:147913621d9cdea08853f6ba9116c2e27a3ceffecf3b492983ae97c3d643fbbe
Status: Downloaded newer image <span class="token keyword">for</span> ubuntu:18.04
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上面的命令中没有给出 <strong>Docker</strong> 镜像仓库地址，因此将会从 <strong>Docker Hub</strong> 获取镜像。而镜像名称是 <strong>ubuntu:18.04</strong>，因此将会获取官方镜像 <strong>library/ubuntu</strong> 仓库中标签为 <strong>18.04</strong> 的镜像。</p> <p>从下载过程中可以看到我们之前提及的分层存储的概念，镜像是由多层存储所构成。下载也是一层层的去下载，并非单一文件。下载过程中给出了每一层的 ID 的前 12 位。并且下载结束后，给出该镜像完整的 sha256 的摘要，以确保下载一致性。</p> <p>在使用上面命令的时候，你可能会发现，你所看到的层 ID 以及 sha256 的摘要和这里的不一样。这是因为官方镜像是一直在维护的，有任何新的 bug，或者版本更新，都会进行修复再以原来的标签发布，这样可以确保任何使用这个标签的用户可以获得更安全、更稳定的镜像。</p> <p>如果从 Docker Hub 下载镜像非常缓慢，可以参照镜像加速一节，更换国内源。</p> <h3 id="列出镜像"><a href="#列出镜像" class="header-anchor">#</a> 列出镜像</h3> <p>要想列出已经下载下来的镜像，可以使用 <code>docker image</code>  命令。</p> <p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225211110.png" alt=""></p> <p>列表包含了 仓库名、标签、镜像 ID、创建时间 以及 所占用的空间。</p> <p>其中仓库名、标签在之前的基础概念章节已经介绍过了。镜像 ID 则是镜像的唯一标识，一个镜像可以对应多个 标签。</p> <h3 id="删除本地镜像"><a href="#删除本地镜像" class="header-anchor">#</a> 删除本地镜像</h3> <p>如果要删除本地的镜像，可以使用 <code>docker image rm</code> 命令，其格式为：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker image <span class="token function">rm</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token operator">&lt;</span>镜像<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>镜像<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#先用命令查看所有本地镜像</span>
$ docker images
<span class="token comment">#再用删除命令</span>
$ docker image <span class="token function">rm</span> <span class="token operator">&lt;</span>IMAGE ID<span class="token operator">&gt;</span>
<span class="token comment">#先用命令查看所有本地镜像，检查是否删除成功</span>
$ docker images
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225211547.png" alt=""></p> <p>例外状况：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#可能会出现因操作失误，导致不同的镜像会有相同的IMAGE ID号</span>
<span class="token comment">#直接使用docker image rm &lt;IMAGE ID&gt;会报错</span>
<span class="token comment">#要换一个命令：</span>
$ docker image <span class="token function">rm</span> REPOSITORY:TAG
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225211740.png" alt=""></p> <h3 id="上传镜像到阿里云仓库"><a href="#上传镜像到阿里云仓库" class="header-anchor">#</a> 上传镜像到阿里云仓库</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> docker login --username<span class="token operator">=</span><span class="token punctuation">[</span>你的阿里云用户名<span class="token punctuation">]</span> registry.cn-shenzhen.aliyuncs.com
<span class="token function">sudo</span> docker tag <span class="token punctuation">[</span>ImageId<span class="token punctuation">]</span> registry.cn-shenzhen.aliyuncs.com/zhouzixin/docker1:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
<span class="token function">sudo</span> docker push registry.cn-shenzhen.aliyuncs.com/zhouzixin/docker1:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>

<span class="token comment">#registry.cn-shenzhen.aliyuncs.com/zhouzixin/docker1：更改为你的阿里云Docker仓库地址</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="从阿里云仓库拉取镜像"><a href="#从阿里云仓库拉取镜像" class="header-anchor">#</a> 从阿里云仓库拉取镜像</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> docker login --username<span class="token operator">=</span><span class="token punctuation">[</span>用户名<span class="token punctuation">]</span> registry.cn-shenzhen.aliyuncs.com
<span class="token function">sudo</span> docker pull registry.cn-shenzhen.aliyuncs.com/zhouzixin/docker1:<span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
<span class="token comment">#registry.cn-shenzhen.aliyuncs.com/zhouzixin/docker1：更改为你的阿里云Docker仓库地址</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="使用dockerfile构建镜像"><a href="#使用dockerfile构建镜像" class="header-anchor">#</a> 使用Dockerfile构建镜像</h3> <p><a href="https://williscode.gitee.io/posts/12a3.html" target="_blank" rel="noopener noreferrer">我另写了一篇笔记。<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="操作容器"><a href="#操作容器" class="header-anchor">#</a> 操作容器</h2> <h3 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h3> <p>启动容器有两种方式，一种是基于镜像新建一个容器并启动，另外一个是将在终止状态（<code>stopped</code>）的容器重新启动。</p> <p>因为 <strong>Docker</strong> 的容器实在太轻量级了，很多时候用户都是随时删除和新创建容器。</p> <h4 id="新建并启动"><a href="#新建并启动" class="header-anchor">#</a> 新建并启动</h4> <p>命令：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例如，下面的命令输出一个 “Hello World”，之后终止容器。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker run ubuntu:20.04 /bin/echo <span class="token string">'Hello world'</span>
Hello world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这跟在本地直接执行 <strong>/bin/echo 'hello world'</strong> 几乎感觉不出任何区别。</p> <p>下面的命令则启动一个 bash 终端，允许用户进行交互。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker run -t -i ubuntu:20.04 /bin/bash
root@af8bae53bdd3:/<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其中，<strong>-t</strong> 选项让<strong>Docker</strong>分配一个伪终端（<strong>pseudo-tty</strong>）并绑定到容器的标准输入上， <strong>-i</strong> 则让容器的标准输入保持打开。</p> <p>在交互模式下，用户可以通过所创建的终端来输入命令，例如</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@af8bae53bdd3:/<span class="token comment"># pwd</span>
/
root@af8bae53bdd3:/<span class="token comment"># ls</span>
bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当利用 <strong>docker run</strong> 来创建容器时，<strong>Docker</strong> 在后台运行的标准操作包括：</p> <ul><li>检查本地是否存在指定的镜像，不存在就从公有仓库下载</li> <li>利用镜像创建并启动一个容器</li> <li>分配一个文件系统，并在只读的镜像层外面挂载一层可读写层</li> <li>从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中去</li> <li>从地址池配置一个 ip 地址给容器</li> <li>执行用户指定的应用程序</li> <li>执行完毕后容器被终止</li></ul> <h4 id="启动已终止容器"><a href="#启动已终止容器" class="header-anchor">#</a> 启动已终止容器</h4> <p>可以利用 <strong>docker container star</strong>t 命令，直接将一个已经终止的容器启动运行。</p> <h3 id="后台运行"><a href="#后台运行" class="header-anchor">#</a> 后台运行</h3> <p>更多的时候，需要让 <strong>Docker</strong> 在后台运行而不是直接把执行命令的结果输出在当前宿主机下。此时，可以通过添加 <code>-d</code> 参数来实现。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker run -d ubuntu:20.04 /bin/sh -c <span class="token string">&quot;while true; do echo hello world; sleep 1; done&quot;</span>
77b2dc01fe0f3f1265df143181e7b9af5e05279a884f4776ee75350ea9d8017a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此时容器会在后台运行并不会把输出的结果 (<strong>STDOUT</strong>) 打印到宿主机上面(输出结果可以用 <strong>docker logs</strong> 查看)。</p> <p>注： 容器是否会长久运行，是和 <strong>docker run</strong> 指定的命令有关，和 <strong>-d</strong> 参数无关。</p> <p>使用 <strong>-d</strong> 参数启动后会返回一个唯一的 <strong>id</strong>，也可以通过 <strong>docker container ls</strong> 命令来查看容器信息。</p> <p>要获取容器的输出信息，可以通过 <strong>docker container logs</strong> 命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker container logs <span class="token punctuation">[</span>container ID or NAMES<span class="token punctuation">]</span>
hello world
hello world
hello world
<span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="终止容器"><a href="#终止容器" class="header-anchor">#</a> 终止容器</h3> <p>可以使用 <strong>docker container stop</strong> 来终止一个运行中的容器。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker container stop <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225212153.png" alt=""></p> <p>处于终止状态的容器，可以通过 <code>docker container start</code> 命令来重新启动。</p> <p>此外，<code>docker container restart</code> 命令会将一个运行态的容器终止，然后再重新启动它。</p> <h3 id="进入容器"><a href="#进入容器" class="header-anchor">#</a> 进入容器</h3> <p>在使用 <code>-d</code> 参数时，容器启动后会进入后台。</p> <p>某些时候需要进入容器进行操作，包括使用 <code>docker attach</code> 命令或 <code>docker exec</code> 命令</p> <h3 id="导出和导入容器"><a href="#导出和导入容器" class="header-anchor">#</a> 导出和导入容器</h3> <ul><li>导出容器：</li></ul> <p>如果要导出本地某个容器，可以使用 <strong>docker export</strong> 命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#先查看容器</span>
$ docker container <span class="token function">ls</span> -a
<span class="token comment">#再用命令导出</span>
$ docker <span class="token builtin class-name">export</span> <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> hello.tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225212431.png" alt=""></p> <ul><li>导入容器快照：</li></ul> <p>可以使用 <code>docker import</code> 从容器快照文件中再导入为镜像</p> <h3 id="删除容器"><a href="#删除容器" class="header-anchor">#</a> 删除容器</h3> <p>可以使用 <strong>docker container rm</strong> 来删除一个处于终止状态的容器。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#先用命令查看所有容器</span>
$ docker <span class="token function">ps</span> -a
<span class="token comment">#再用删除命令删除容器</span>
$ docker container <span class="token function">rm</span> <span class="token operator">&lt;</span>CONTAINER ID<span class="token operator">&gt;</span>
<span class="token comment">#先用命令查看所有容器，检查是否已删除</span>
$ docker <span class="token function">ps</span> -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Willis-zzx/PicGO/img/20201225212802.png" alt=""></p> <p>如果要删除一个运行中的容器，可以添加 <strong>-f</strong> 参数。<strong>Docker</strong> 会发送 <strong>SIGKILL</strong> 信号给容器。</p> <p>清理所有处于终止状态的容器</p> <p>用 <strong>docker container ls -a</strong> 命令可以查看所有已经创建的包括终止状态的容器，如果数量太多要一个个删除可能会很麻烦，用下面的命令可以清理掉所有处于终止状态的容器。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker container prune
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h1> <h2 id="参考文档"><a href="#参考文档" class="header-anchor">#</a> 参考文档</h2> <ul><li><p>官方文档：https://docs.docker.com/get-started/overview/</p></li> <li><p>博客：</p> <ul><li>http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html</li> <li>https://docker_practice.gitee.io/zh-cn/</li></ul></li> <li><p>知乎：https://zhuanlan.zhihu.com/p/89587030</p></li> <li><p>W3Cschool：https://www.w3cschool.cn/docker/docker-tutorial.html</p></li></ul> <h2 id="ubuntu国内镜像源"><a href="#ubuntu国内镜像源" class="header-anchor">#</a> Ubuntu国内镜像源</h2> <h3 id="阿里云源"><a href="#阿里云源" class="header-anchor">#</a> 阿里云源</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="清华源"><a href="#清华源" class="header-anchor">#</a> 清华源</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span>

<span class="token comment"># 预发布软件源，不建议启用</span>
<span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="中科大源"><a href="#中科大源" class="header-anchor">#</a> 中科大源</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="网易163源"><a href="#网易163源" class="header-anchor">#</a> 网易163源</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/smallsunnyfox/tags/?tag=Docker" title="标签">#Docker</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/smallsunnyfox/pages/08d494/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Git操作实例</div></a> <a href="/smallsunnyfox/pages/c95bb2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Docker部署可执行jar包</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/smallsunnyfox/pages/08d494/" class="prev">Git操作实例</a></span> <span class="next"><a href="/smallsunnyfox/pages/c95bb2/">Docker部署可执行jar包</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/smallsunnyfox/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/smallsunnyfox/pages/37114c/"><div>
            Map - LinkedHashSet&amp;LinkedHashMap源码解析
            <!----></div></a> <span class="date">04-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/smallsunnyfox/pages/51d542/"><div>
            MySQL 数据类型
            <!----></div></a> <span class="date">04-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/smallsunnyfox/pages/ec3f67/"><div>
            MySQL 存储引擎
            <!----></div></a> <span class="date">04-20</span></dt></dl> <dl><dd></dd> <dt><a href="/smallsunnyfox/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/smallsunnyfox/assets/js/app.83564948.js" defer></script><script src="/smallsunnyfox/assets/js/2.aa576462.js" defer></script><script src="/smallsunnyfox/assets/js/64.b31e258e.js" defer></script><script src="/smallsunnyfox/assets/js/4.8cc69bdc.js" defer></script>
  </body>
</html>
